package jdbcdemo;
import java.sql.*;

public class Driver {
	public static void main(String[] args) {
		
		String url = "jdbc:mysql://localhost:3306/pomoc_na_putu_baza";
		String user = "root";
		String password = "1dva3nevermore";
		
		//ResultSet dataset = null;
		
		try {
			
			//1. Get a connection to database
			Connection myConn = DriverManager.getConnection(url, user, password);
			
			//2. Create a statement
			//Statement myStmt = myConn.createStatement();
			
			//2. Prepare a statement

			
			/*ResultSet myRs = myStmt.executeQuery("select * from klijent");
			while(myRs.next()) {
				System.out.println(myRs.getString("ID_Klijenta"));
			}*/
			
			//3. Execute SQL query
			String sql = "select * from klijent";
			
			Statement st = myConn.createStatement();
			
			//myStmt.executeUpdate(sql);
			//System.out.println("Read complete.");
			
			ResultSet rs = st.executeQuery(sql);
			
			while(rs.next()) {
				int id = rs.getInt("ID_Klijenta");
				String Ime = rs.getString("Ime");
				String Prezime = rs.getString("Prezime");
				String Broj_Telefona = rs.getString("Broj_Telefona");
				
				System.out.format("%d, %s, %s, %s\n", id, Ime, Prezime, Broj_Telefona);
			}
			
			st.close();
			
		
	}
		catch(Exception e) {
			System.err.println("Got an exception.");
			System.err.println(e.getMessage());
		}

}
}